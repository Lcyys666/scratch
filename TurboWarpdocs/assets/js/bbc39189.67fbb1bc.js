"use strict";(self.webpackChunkturbowarp_docs=self.webpackChunkturbowarp_docs||[]).push([[4236],{4504:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>i,default:()=>x,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var t=r(5893),s=r(1151),c=r(4455);const l={hide_table_of_contents:!0},i="\u975e\u6c99\u76d2\u5316\u6269\u5c55",o={id:"development/extensions/unsandboxed",title:"\u975e\u6c99\u76d2\u5316\u6269\u5c55",description:"\u975e\u6c99\u76d2\u5316\u6269\u5c55\u4f5c\u4e3a\u666e\u901a\u7684 `` \u6807\u7b7e\u5728\u4e3b\u7a97\u53e3\u4e2d\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u5728\u6c99\u76d2\u4e2d\u8fd0\u884c\u3002\u5b83\u4eec\u53ef\u4ee5\u8bbf\u95ee\u8bb8\u591a\u65b0\u7684\u529f\u80fd\u548c\u8d23\u4efb\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8ba8\u8bba\u3002",source:"@site/docs/development/extensions/unsandboxed.md",sourceDirName:"development/extensions",slug:"/development/extensions/unsandboxed",permalink:"/development/extensions/unsandboxed",draft:!1,unlisted:!1,editUrl:"https://github.com/Lcyys666/TurboWarpdocs/edit/master/docs/development/extensions/unsandboxed.md",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"development",previous:{title:"\u6c99\u76d2\u5230\u5e95\u662f\u4ec0\u4e48\uff1f",permalink:"/development/extensions/sandbox"},next:{title:"\u66f4\u597d\u7684\u5f00\u53d1\u670d\u52a1\u5668",permalink:"/development/extensions/better-development-server"}},a={},d=[{value:"URL \u9650\u5236",id:"url-\u9650\u5236",level:2},{value:"\u8bed\u6cd5",id:"\u8bed\u6cd5",level:2},{value:"\u4e00\u4e2a\u66f4\u5b8c\u6574\u7684\u793a\u4f8b",id:"\u4e00\u4e2a\u66f4\u5b8c\u6574\u7684\u793a\u4f8b",level:2},{value:"\u66f4\u5927\u7684\u6743\u529b\u5e26\u6765\u66f4\u5927\u7684\u8d23\u4efb",id:"\u66f4\u5927\u7684\u6743\u529b\u5e26\u6765\u66f4\u5927\u7684\u8d23\u4efb",level:2},{value:"\u8bbf\u95ee Scratch \u5185\u90e8\u529f\u80fd",id:"\u8bbf\u95ee-scratch-\u5185\u90e8\u529f\u80fd",level:2},{value:"\u79ef\u6728\u5757\u5de5\u5177\u5bf9\u8c61",id:"\u79ef\u6728\u5757\u5de5\u5177\u5bf9\u8c61",level:2},{value:"\u5e38\u7528\u6a21\u677f",id:"\u5e38\u7528\u6a21\u677f",level:2},{value:"\u9700\u8981\u6743\u9650\u7684 API",id:"\u9700\u8981\u6743\u9650\u7684-api",level:2},{value:"\u83b7\u53d6 API\u3001WebSocket\u3001\u56fe\u50cf\u3001\u97f3\u9891\u6587\u4ef6\u7b49",id:"\u83b7\u53d6-apiwebsocket\u56fe\u50cf\u97f3\u9891\u6587\u4ef6\u7b49",level:3},{value:"\u6253\u5f00\u65b0\u6807\u7b7e\u6216\u7a97\u53e3",id:"\u6253\u5f00\u65b0\u6807\u7b7e\u6216\u7a97\u53e3",level:3},{value:"\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762",id:"\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762",level:3},{value:"\u7ec3\u4e60",id:"\u7ec3\u4e60",level:2},{value:"\u4e0b\u4e00\u6b65",id:"\u4e0b\u4e00\u6b65",level:2}];function h(n){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"\u975e\u6c99\u76d2\u5316\u6269\u5c55",children:"\u975e\u6c99\u76d2\u5316\u6269\u5c55"}),"\n","\n","\n",(0,t.jsxs)(e.p,{children:["\u975e\u6c99\u76d2\u5316\u6269\u5c55\u4f5c\u4e3a\u666e\u901a\u7684 ",(0,t.jsx)(e.code,{children:"<script>"})," \u6807\u7b7e\u5728\u4e3b\u7a97\u53e3\u4e2d\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u5728\u6c99\u76d2\u4e2d\u8fd0\u884c\u3002\u5b83\u4eec\u53ef\u4ee5\u8bbf\u95ee\u8bb8\u591a\u65b0\u7684\u529f\u80fd\u548c\u8d23\u4efb\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8ba8\u8bba\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"url-\u9650\u5236",children:"URL \u9650\u5236"}),"\n",(0,t.jsxs)(e.p,{children:["\u4e3a\u4e86\u4fdd\u62a4\u7528\u6237\u514d\u53d7\u6076\u610f\u6269\u5c55\u7684\u5f71\u54cd\uff0c\u4ece URL \u52a0\u8f7d\u7684\u6269\u5c55\u53ea\u6709\u5728\u5176 URL ",(0,t.jsx)(e.em,{children:"\u7cbe\u786e\u5730"}),"\u4ee5\u4ee5\u4e0b\u5f00\u5934\u65f6\u624d\u4f1a\u4ee5\u975e\u6c99\u76d2\u5316\u65b9\u5f0f\u8fd0\u884c\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"https://extensions.turbowarp.org/"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"http://localhost:8000/"})}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u7531\u4e8e\u60a8\u65e0\u6cd5\u63a7\u5236 extensions.turbowarp.org\uff0c\u60a8\u5c06\u4e0d\u5f97\u4e0d\u4f7f\u7528\u540e\u4e00\u4e2a\u9009\u9879\u3002\u4e3a\u6b64\uff0c\u8bf7\u5c06\u60a8\u7684\u672c\u5730 HTTP \u670d\u52a1\u5668\u914d\u7f6e\u4e3a\u5728\u7aef\u53e3 8000 \u4e0a\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u60a8\u8fc4\u4eca\u4e3a\u6b62\u4f7f\u7528\u7684\u7aef\u53e3\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u5f53\u4ece\u6587\u4ef6\u6216 JavaScript \u6e90\u4ee3\u7801\u624b\u52a8\u52a0\u8f7d\u6269\u5c55\u65f6\uff0c\u6709\u4e00\u4e2a\u9009\u9879\u53ef\u4ee5\u5728\u4e0d\u4f7f\u7528\u6c99\u76d2\u7684\u60c5\u51b5\u4e0b\u52a0\u8f7d\u6269\u5c55\u3002\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u4f7f\u7528 URL \u65f6\u4e0d\u5b58\u5728\u5f3a\u5236\u6269\u5c55\u4ee5\u975e\u6c99\u76d2\u5316\u65b9\u5f0f\u8fd0\u884c\u7684\u9009\u9879\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u8bed\u6cd5",children:"\u8bed\u6cd5"}),"\n",(0,t.jsx)(e.p,{children:"\u975e\u6c99\u76d2\u5316\u6269\u5c55\u7684\u8bed\u6cd5\u975e\u5e38\u719f\u6089\uff0c\u4f46\u6709\u4e00\u4e9b\u4e0d\u540c\u3002\u4ece\u6280\u672f\u4e0a\u8bb2\uff0c\u5982\u679c\u60a8\u53ea\u662f\u5c06\u65e7\u7684\u6c99\u76d2\u5316\u6269\u5c55\u590d\u5236\u5e76\u7c98\u8d34\u4e3a\u975e\u6c99\u76d2\u5316\u6269\u5c55\uff0c\u5b83\u770b\u8d77\u6765\u4f1a\u6b63\u5e38\u5de5\u4f5c\u3002\u4f46\u662f\uff0c\u8fd9\u662f\u5371\u9669\u7684\uff0c\u5f88\u53ef\u80fd\u4f1a\u5728\u4ee5\u540e\u5bfc\u81f4\u9519\u8bef\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u679c\u60a8\u7684\u6c99\u76d2\u5316\u6269\u5c55\u6709\u8fd9\u6837\u7684\u4ee3\u7801\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u65e7\u7684\u6c99\u76d2\u5316\u6269\u5c55\uff08worker \u6216 <iframe> \u6c99\u76d2\uff09\uff1a\r\nclass MyExtension {\r\n  getInfo () {\r\n    return { /* ... */ };\r\n  }\r\n}\r\nScratch.extensions.register(new MyExtension());\n"})}),"\n",(0,t.jsx)(e.p,{children:'\u6216\u8005\u5982\u679c\u60a8\u7684\u6269\u5c55\u4f7f\u7528\u65e7\u7684"\u63d2\u4ef6"\u673a\u5236\uff0c\u6bd4\u5982\u8fd9\u4e2a\uff1a\uff08\u5982\u679c\u60a8\u4e0d\u8ba4\u8bc6\u8fd9\u6bb5\u4ee3\u7801\uff0c\u90a3\u5c31\u4e0d\u7528\u62c5\u5fc3\uff09'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"class MyExtension {\r\n  getInfo () {\r\n    return { /* ... */ };\r\n  }\r\n}\r\n(function() {\r\n  var extensionInstance = new MyExtension(window.vm.extensionManager.runtime)\r\n  var serviceName = window.vm.extensionManager._registerInternalExtension(extensionInstance)\r\n  window.vm.extensionManager._loadedExtensions.set(extensionInstance.getInfo().id, serviceName)\r\n})();\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u975e\u6c99\u76d2\u5316\u7248\u672c\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"(function(Scratch) {\r\n  'use strict';\r\n  class MyExtension {\r\n    getInfo () {\r\n      return { /* ... */ };\r\n    }\r\n  }\r\n  Scratch.extensions.register(new MyExtension());\r\n})(Scratch);\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528\u8fd9\u4e2a\u6a21\u677f\u53ef\u4ee5\u9632\u6b62\u975e\u6c99\u76d2\u5316\u6269\u5c55\u5728\u5c1d\u8bd5\u5b9a\u4e49\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u53d8\u91cf\u3001\u7c7b\u6216\u51fd\u6570\u65f6\u76f8\u4e92\u5e72\u6270\u3002\u901a\u8fc7\u8981\u6c42\u6240\u6709\u5185\u5bb9\u90fd\u5728",(0,t.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/IIFE",children:"\u7acb\u5373\u8c03\u7528\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\uff08IIFE\uff09"}),"\u4e2d\u5b9a\u4e49\u5e76\u542f\u7528",(0,t.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode",children:"\u4e25\u683c\u6a21\u5f0f"}),"\uff0c\u6211\u4eec\u53ef\u4ee5\u9632\u6b62\u53d8\u91cf\u610f\u5916\u6cc4\u6f0f\u5230\u5168\u5c40\u4f5c\u7528\u57df\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u6269\u5c55\u5b9a\u4e49\u7684",(0,t.jsx)(e.em,{children:"\u6240\u6709"}),"\u51fd\u6570\u548c\u53d8\u91cf\u90fd\u5fc5\u987b\u5728 IIFE \u5185\u5b9a\u4e49\u3002\u6b64\u5916\uff0c\u6bcf\u4e2a\u6269\u5c55\u5fc5\u987b\u786e\u4fdd\u4f7f\u7528\u81ea\u5df1\u7684 ",(0,t.jsx)(e.code,{children:"Scratch"})," API \u526f\u672c\uff0c\u8fd9\u4e2a\u6a21\u677f\u4f1a\u81ea\u52a8\u5b8c\u6210\u8fd9\u4e00\u70b9\u3002"]}),"\n",(0,t.jsx)(e.p,{children:"\u5173\u4e8e\u8fd9\u4e2a\u6a21\u677f\u7684\u4e00\u4e2a\u6709\u8da3\u4e4b\u5904\u662f\u5b83\u4e0e\u6c99\u76d2\u5316\u6269\u5c55\u5411\u540e\u517c\u5bb9\u3002\u53ea\u8981\u6269\u5c55\u4e0d\u4f7f\u7528\u4efb\u4f55\u7ed9\u4e88\u975e\u6c99\u76d2\u5316\u6269\u5c55\u7684\u529f\u80fd\uff0c\u5b83\u5c31\u4f1a\u7ee7\u7eed\u50cf\u6c99\u76d2\u5316\u6269\u5c55\u4e00\u6837\u5de5\u4f5c\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u4e00\u4e2a\u66f4\u5b8c\u6574\u7684\u793a\u4f8b",children:"\u4e00\u4e2a\u66f4\u5b8c\u6574\u7684\u793a\u4f8b"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u60a8\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u5b8c\u6574\u7684\u975e\u6c99\u76d2\u5316\u6269\u5c55\uff1a"}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/hello-world-unsandboxed",sandbox:!1,children:r(8250)}),"\n",(0,t.jsxs)(e.p,{children:["\u5982\u679c\u60a8\u4f7f\u7528\u672c\u5730 HTTP \u670d\u52a1\u5668\uff0c\u8bf7\u4fdd\u5b58\u8fd9\u4e2a\u6587\u4ef6\u4ee5\u4fbf\u901a\u8fc7\u670d\u52a1\u5668\u8bbf\u95ee\uff0c\u7136\u540e\u5728 TurboWarp \u4e2d\u52a0\u8f7d\u7cbe\u786e\u7684 URL ",(0,t.jsx)(e.a,{href:"http://localhost:8000/hello-world-unsandboxed.js",children:"http://localhost:8000/hello-world-unsandboxed.js"}),"\u3002\u5982\u679c\u6ca1\u6709\u663e\u793a\u4efb\u4f55\u5185\u5bb9\uff0c\u8bf7\u67e5\u770b\u5f00\u53d1\u8005\u63a7\u5236\u53f0\u3002\u5982\u679c\u60a8\u770b\u5230\u6269\u5c55\u5fc5\u987b\u4ee5\u975e\u6c99\u76d2\u5316\u65b9\u5f0f\u8fd0\u884c\u7684\u9519\u8bef\uff0c\u5f88\u53ef\u80fd\u662f\u60a8\u4f7f\u7528\u7684\u662f\u65e7\u7248\u672c\u7684 TurboWarp\uff0c\u6216\u8005\u60a8\u6ca1\u6709\u4ece\u7cbe\u786e\u4ee5 ",(0,t.jsx)(e.code,{children:"http://localhost:8000/"})," \u5f00\u5934\u7684 URL \u52a0\u8f7d\u5b83\u3002127.0.0.1 \u548c 0.0.0.0 \u90fd\u4e0d\u884c\uff01\u5fc5\u987b\u662f localhost\uff0c\u7aef\u53e3\u5fc5\u987b\u662f 8000\u3002"]}),"\n",(0,t.jsx)(e.p,{children:'\u5982\u679c\u60a8\u53ea\u662f\u4f7f\u7528\u6587\u4ef6\uff0c\u8bf7\u786e\u4fdd\u6bcf\u6b21\u52a0\u8f7d\u6269\u5c55\u65f6\u90fd\u52fe\u9009"\u5728\u6c99\u76d2\u5916\u8fd0\u884c\u6269\u5c55"\u6846\u3002'}),"\n",(0,t.jsx)(e.p,{children:'\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u9879\u76ee\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e2a\u91cd\u590d (30) \u5faa\u73af\uff0c\u5c06 "hello" \u79ef\u6728\u5757\u6dfb\u52a0\u5230\u5217\u8868\u4e2d\u3002\u6ce8\u610f\uff0c\u5b83\u73b0\u5728\u7acb\u5373\u8fd0\u884c\uff0c\u800c\u6c99\u76d2\u5316\u7248\u672c\u81f3\u5c11\u9700\u8981\u4e00\u79d2\u949f\u3002'}),"\n",(0,t.jsx)(e.p,{children:"\u89c2\u5bdf\u5230\u5927\u90e8\u5206\u4ee3\u7801\u4ecd\u7136\u662f\u76f8\u540c\u7684\uff1a\u60a8\u4ecd\u7136\u521b\u5efa\u4e00\u4e2a\u7c7b\uff0c\u7136\u540e\u8c03\u7528 Scratch.extensions.register()\uff0c\u7136\u540e Scratch \u8c03\u7528 getInfo() \u8fd4\u56de\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002\u53ea\u662f\u5468\u56f4\u7684\u6a21\u677f\u4e0d\u540c\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u66f4\u5927\u7684\u6743\u529b\u5e26\u6765\u66f4\u5927\u7684\u8d23\u4efb",children:"\u66f4\u5927\u7684\u6743\u529b\u5e26\u6765\u66f4\u5927\u7684\u8d23\u4efb"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u6211\u4eec\u8ba8\u8bba\u65b0\u7684 API \u4e4b\u524d\uff0c\u6211\u4eec\u60f3\u6307\u51fa\u4e00\u4e9b\u975e\u6c99\u76d2\u5316\u6269\u5c55\u7684\u989d\u5916\u8981\u6c42\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u79ef\u6728\u5757\u4e0d\u80fd\u629b\u51fa\u9519\u8bef\u3002\u867d\u7136\u6c99\u76d2\u5316\u6269\u5c55\u53ef\u4ee5\u8fd9\u6837\u505a\uff0c\u4f46\u8fd9\u6837\u505a\u7684\u975e\u6c99\u76d2\u5316\u6269\u5c55\u53ef\u80fd\u4f1a\u7834\u574f\u811a\u672c\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u8f93\u5165\u548c\u5e03\u5c14\u79ef\u6728\u5757\u5fc5\u987b\u8fd4\u56de\u6709\u6548\u503c\u3002\u867d\u7136\u6c99\u76d2\u5316\u6269\u5c55\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e00\u70b9\uff0c\u4f46\u4e0d\u8fd4\u56de\u9002\u5f53\u503c\uff08\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u6216\u5e03\u5c14\u503c\uff09\u7684\u975e\u6c99\u76d2\u5316\u6269\u5c55\u53ef\u80fd\u4f1a\u4ee5\u672a\u77e5\u7684\u65b9\u5f0f\u7834\u574f\u811a\u672c\u3002"}),"\n",(0,t.jsxs)(e.li,{children:["\u79ef\u6728\u5757\u4e0d\u80fd\u9677\u5165\u65e0\u9650\u5faa\u73af\u3002\u867d\u7136\u6c99\u76d2\u5316\u6269\u5c55\u5982\u679c\u9677\u5165\u5faa\u73af\u901a\u5e38\u4e0d\u4f1a\u51bb\u7ed3\u6574\u4e2a\u7a97\u53e3\uff0c\u4f46\u975e\u6c99\u76d2\u5316\u6269\u5c55\u4f1a\u3002\u8fd9\u53ef\u80fd\u5bfc\u81f4",(0,t.jsx)(e.strong,{children:"\u6570\u636e\u4e22\u5931"}),"\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u8bbf\u95ee-scratch-\u5185\u90e8\u529f\u80fd",children:"\u8bbf\u95ee Scratch \u5185\u90e8\u529f\u80fd"}),"\n",(0,t.jsx)(e.p,{children:"\u975e\u6c99\u76d2\u5316\u6269\u5c55\u53ef\u4ee5\u505a\u7684\u6700\u91cd\u8981\u7684\u4e8b\u60c5\u662f\u76f4\u63a5\u8bbf\u95ee Scratch \u5185\u90e8\u529f\u80fd\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"  const vm = Scratch.vm;\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u5c31\u662f\u5bf9\u5b9e\u9645 Scratch VM \u5bf9\u8c61\u7684\u5b8c\u5168\u8bbf\u95ee\u3002\u60a8\u53ef\u4ee5\u7528\u5b83\u505a\u5f88\u591a\u4e8b\u60c5\u3002"}),"\n",(0,t.jsxs)(e.p,{children:["\u8bb0\u4f4f -- \u6bcf\u4e2a\u53d8\u91cf\u58f0\u660e\u90fd\u5fc5\u987b\u53d1\u751f\u5728 IIFE ",(0,t.jsx)(e.em,{children:"\u5185\u90e8"}),"\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u597d\u7684\u4ee3\u7801\r\n(function(Scratch) {\r\n  const vm = Scratch.vm;\r\n  // ...\r\n}(Scratch));\r\n\r\n// \u574f\u7684\u4ee3\u7801\r\nconst vm = Scratch.vm;\r\n(function(Scratch) {\r\n  // ...\r\n}(Scratch));\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u56db\u5904\u67e5\u627e\u4ee5\u627e\u5230\u60a8\u8981\u627e\u7684\u5185\u5bb9\u3002\u5f53\u6269\u5c55\u52a0\u8f7d\u540e\uff0c\u60a8\u53ef\u4ee5\u4ece\u5f00\u53d1\u8005\u5de5\u5177\u8bbf\u95ee ",(0,t.jsx)(e.code,{children:"Scratch"}),"\uff0c\u6216\u4f7f\u7528\u5176\u4ed6\u53ef\u7528\u7684",(0,t.jsx)(e.a,{href:"../globals",children:"\u8c03\u8bd5\u5168\u5c40\u53d8\u91cf"}),"\uff08\u4f46\u8bf7\u4e0d\u8981\u5728\u6269\u5c55\u4e2d\u4f7f\u7528\u8fd9\u4e9b\uff09\uff0c\u60a8\u7684\u5f00\u53d1\u8005\u5de5\u5177\u5c06\u975e\u5e38\u6709\u7528\u3002\u60a8\u53ef\u80fd\u4f1a\u53d1\u73b0 ",(0,t.jsx)(e.a,{href:"https://github.com/TurboWarp/scratch-vm/",children:"scratch-vm \u6e90\u4ee3\u7801"})," \u6216 ",(0,t.jsx)(e.a,{href:"https://github.com/turboWarp/types",children:"@turbowarp/types"})," \u662f\u6709\u7528\u7684\u8d44\u6e90\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u662f\u4e00\u4e2a\u4f7f\u7528 Scratch.vm \u5207\u6362\u6da1\u8f6e\u6a21\u5f0f\u7684\u6269\u5c55\u793a\u4f8b\uff0c\u7c7b\u4f3c\u4e8e ",(0,t.jsx)(e.a,{href:"https://extensions.turbowarp.org/",children:"extensions.turbowarp.org"}),' \u4e0a\u7684 "runtime options" \u6269\u5c55\uff1a']}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/turbo-mode",children:r(4940)}),"\n",(0,t.jsx)(e.h2,{id:"\u79ef\u6728\u5757\u5de5\u5177\u5bf9\u8c61",children:"\u79ef\u6728\u5757\u5de5\u5177\u5bf9\u8c61"}),"\n",(0,t.jsx)(e.p,{children:"\u5f53\u8fd0\u884c\u6c99\u76d2\u5316\u81ea\u5b9a\u4e49\u6269\u5c55\u65f6\uff0c\u5b83\u53ea\u63a5\u6536\u811a\u672c\u63d0\u4f9b\u7684\u53c2\u6570\u3002\u5b83\u751a\u81f3\u4e0d\u77e5\u9053\u662f\u54ea\u4e2a\u89d2\u8272\u5728\u6267\u884c\u5b83\u3002\u6211\u4eec\u73b0\u5728\u4ecb\u7ecd\u4f20\u9012\u7ed9\u79ef\u6728\u5757\u51fd\u6570\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1aBlockUtility\u3002"}),"\n",(0,t.jsxs)(e.p,{children:["BlockUtility \u5bf9\u8c61\uff0c\u901a\u5e38\u79f0\u4e3a ",(0,t.jsx)(e.code,{children:"util"}),"\uff0c\u5141\u8bb8\u975e\u6c99\u76d2\u5316\u6269\u5c55\u4e2d\u7684\u79ef\u6728\u5757\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"util.target"})," \u76f4\u63a5\u8bbf\u95ee\u6b63\u5728\u8fd0\u884c\u5b83\u4eec\u7684\u89d2\u8272\u3002\u4e0e VM \u7c7b\u4f3c\uff0c\u8fd9\u662f\u5185\u90e8\u4f7f\u7528\u7684\u5b9e\u9645\u5bf9\u8c61\u3002\u60a8\u53ef\u4ee5\u5b8c\u5168\u8bbf\u95ee\u5b83\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u662f\u4e00\u4e2a\u6f14\u793a\u5982\u4f55\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"util.target"})," \u83b7\u53d6\u5f53\u524d\u89d2\u8272\u540d\u79f0\u6216\u8bbf\u95ee\u53d8\u91cf\u7684\u6269\u5c55\u793a\u4f8b\u3002"]}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/block-utility-examples",children:r(7458)}),"\n",(0,t.jsxs)(e.p,{children:["\u8bf7\u6ce8\u610f\uff0c\u6bcf\u4e2a\u89d2\u8272\u3001\u811a\u672c\u548c\u79ef\u6728\u5757\u90fd\u5171\u4eab\u76f8\u540c\u7684\u79ef\u6728\u5757\u5de5\u5177\u5bf9\u8c61\u3002\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u5b83\u4e0d\u4f1a\u5728\u6bcf\u6b21\u8fd0\u884c\u79ef\u6728\u5757\u65f6\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c\u662f\u53ea\u66f4\u65b0\u5171\u4eab\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u56e0\u6b64\uff0c\u8bbf\u95ee ",(0,t.jsx)(e.code,{children:"util"})," \u7684\u552f\u4e00\u5b89\u5168\u65f6\u673a\u662f\u79ef\u6728\u5757\u521a\u8fd0\u884c\u65f6\u3002\u5c1d\u8bd5\u5728 setTimeout\u3001setInterval\u3001Promise \u56de\u8c03\u6216\u5176\u4ed6\u975e\u540c\u6b65\u56de\u8c03\u4e2d\u8bbf\u95ee ",(0,t.jsx)(e.code,{children:"util"})," \u5c06\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u5982\u679c\u60a8\u9700\u8981\u7a0d\u540e\u8bbf\u95ee ",(0,t.jsx)(e.code,{children:"util"})," \u7684\u5c5e\u6027\uff0c\u8bf7\u63d0\u524d\u5c06\u5b83\u4eec\u4fdd\u5b58\u5728\u53d8\u91cf\u4e2d\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"  // \u8fd9\u662f\u4e0d\u53ef\u9760\u7684\uff0c\u53ef\u80fd\u4f1a\u5f39\u51fa\u9519\u8bef\u7684\u5185\u5bb9\uff1a\r\n  myBlock(args, util) {\r\n    setTimeout(() => {\r\n      alert(util.target.getName());\r\n    }, 1000);\r\n  }\r\n\r\n  // \u8fd9\u603b\u662f\u6709\u6548\u7684\uff1a\r\n  myBlock(args, util) {\r\n    const target = util.target;\r\n    setTimeout(() => {\r\n      alert(target.getName());\r\n    }, 1000);\r\n  }\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5e38\u7528\u6a21\u677f",children:"\u5e38\u7528\u6a21\u677f"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u91cc\u662f\u4e00\u4e9b\u53ef\u4ee5\u590d\u5236\u548c\u7c98\u8d34\u7684\u5e38\u7528\u4ee3\u7801\u7247\u6bb5\uff1a"}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u679c\u6269\u5c55\u5fc5\u987b\u4ee5\u975e\u6c99\u76d2\u5316\u65b9\u5f0f\u8fd0\u884c\uff0c\u5728\u5f00\u59cb\u65f6\u6dfb\u52a0\u8fd9\u4e2a\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('Extension Name must run unsandboxed');\r\n  }\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5982\u679c\u60a8\u7ecf\u5e38\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"vm"}),"\u3001",(0,t.jsx)(e.code,{children:"runtime"})," \u6216 ",(0,t.jsx)(e.code,{children:"Cast"})," API\uff0c\u5e38\u89c1\u7684\u505a\u6cd5\u662f\u5728\u5f00\u59cb\u65f6\u5b9a\u4e49\u5b83\u4eec\u4ee5\u8282\u7701\u65f6\u95f4\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"  const vm = Scratch.vm;\r\n  const runtime = vm.runtime;\r\n  const Cast = Scratch.Cast; // \u7a0d\u540e\u8ba8\u8bba\u3002\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u9700\u8981\u6743\u9650\u7684-api",children:"\u9700\u8981\u6743\u9650\u7684 API"}),"\n",(0,t.jsxs)(e.p,{children:["\u867d\u7136\u6c99\u76d2\u5316\u6269\u5c55\u53ef\u4ee5\u968f\u610f\u4f7f\u7528 fetch() \u7b49 API\uff0c\u4f46\u975e\u6c99\u76d2\u5316\u6269\u5c55\u5728\u5411\u4efb\u4f55\u8fdc\u7a0b\u670d\u52a1\u53d1\u51fa\u8bf7\u6c42\u4e4b\u524d\u5e94\u8be5\u5148\u8bf7\u6c42\u6743\u9650\u3002\u8fd9\u8ba9\u7528\u6237\u53ef\u4ee5\u63a7\u5236\u4ed6\u4eec\u7684\u9690\u79c1\u3002\u867d\u7136\u5728\u8fd0\u884c\u65f6\u6ca1\u6709\u6280\u672f\u63aa\u65bd\u5f3a\u5236\u6267\u884c\u8fd9\u4e00\u70b9\uff0c\u4f46\u8fd9\u662f ",(0,t.jsx)(e.a,{href:"https://extensions.turbowarp.org",children:"extensions.turbowarp.org"})," \u4e0a\u6240\u6709\u6269\u5c55\u7684\u8981\u6c42\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5bf9\u4e00\u4e9b\u6d41\u884c\u670d\u52a1\uff08\u5982 ",(0,t.jsx)(e.a,{href:"https://pages.github.com/",children:"GitHub Pages"})," \u6216 ",(0,t.jsx)(e.a,{href:"https://about.gitlab.com/stages-devops-lifecycle/pages/",children:"GitLab Pages"}),"\uff09\u7684\u8bf7\u6c42\u53ef\u80fd\u4f1a\u81ea\u52a8\u83b7\u5f97\u6279\u51c6\uff0c\u800c\u5bf9\u5176\u4ed6\u968f\u673a\u7f51\u7ad9\u7684\u8bf7\u6c42\u53ef\u80fd\u4f1a\u5411\u7528\u6237\u663e\u793a\u63d0\u793a\u3002\u60a8\u4e0d\u5e94\u8be5\u5bf9\u6b64\u505a\u4efb\u4f55\u5047\u8bbe\uff0c\u5e76\u4e14\u60a8\u7684\u4ee3\u7801\u9700\u8981\u786e\u4fdd\u5b83\u53ef\u4ee5\u4f18\u96c5\u5730\u5904\u7406\u7528\u6237\u62d2\u7edd\u63d0\u793a\u7684\u60c5\u51b5\uff08\u6269\u5c55\u5e94\u8be5\u8868\u73b0\u5f97\u4e0e\u6ca1\u6709\u4e92\u8054\u7f51\u8fde\u63a5\u65f6\u76f8\u540c\uff09\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u4e9b\u9700\u8981\u6743\u9650\u7684 API \u8fd8\u4f1a\u81ea\u52a8\u9632\u6b62\u9879\u76ee\u901a\u8fc7\u5c1d\u8bd5\u91cd\u5b9a\u5411\u5230 ",(0,t.jsx)(e.code,{children:"javascript:"})," URL \u7b49\u65b9\u5f0f\u8fd0\u884c\u4efb\u610f JavaScript\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"\u83b7\u53d6-apiwebsocket\u56fe\u50cf\u97f3\u9891\u6587\u4ef6\u7b49",children:"\u83b7\u53d6 API\u3001WebSocket\u3001\u56fe\u50cf\u3001\u97f3\u9891\u6587\u4ef6\u7b49"}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"Scratch.fetch(url)"})," \u800c\u4e0d\u662f ",(0,t.jsx)(e.code,{children:"fetch(url)"}),"\u3002\u5728\u4f7f\u7528\u5176\u4ed6\u8fde\u63a5\u5230\u8fdc\u7a0b\u7f51\u7ad9\u7684 API \u4e4b\u524d\uff0c\u68c0\u67e5 ",(0,t.jsx)(e.code,{children:"await Scratch.canFetch(url)"}),"\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u4e0d\u8981\u8fd9\u6837\u505a\uff1a\r\nconst response = await fetch(url);\r\n// \u5e94\u8be5\u8fd9\u6837\u505a\uff1a\r\nconst response = await Scratch.fetch(url);\r\n\r\n// \u4e0d\u8981\u8fd9\u6837\u505a\uff1a\r\nconst ws = new WebSocket(url);\r\n// \u5e94\u8be5\u8fd9\u6837\u505a\uff1a\r\nif (await Scratch.canFetch(url)) {\r\n  const ws = new WebSocket(url);\r\n}\r\n\r\n// \u4e0d\u8981\u8fd9\u6837\u505a\uff1a\r\nconst image = new Image();\r\nimage.src = src;\r\n// \u5e94\u8be5\u8fd9\u6837\u505a\uff1a\r\nif (await Scratch.canFetch(src)) {\r\n  const image = new Image();\r\n  image.src = src;\r\n}\r\n\r\n// \u4e0d\u8981\u8fd9\u6837\u505a\uff1a\r\nconst audio = new Audio(url);\r\n// \u5e94\u8be5\u8fd9\u6837\u505a\uff1a\r\nif (await Scratch.canFetch(url)) {\r\n  const audio = new Audio(url);\r\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6253\u5f00\u65b0\u6807\u7b7e\u6216\u7a97\u53e3",children:"\u6253\u5f00\u65b0\u6807\u7b7e\u6216\u7a97\u53e3"}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"Scratch.openWindow(url)"})," \u800c\u4e0d\u662f ",(0,t.jsx)(e.code,{children:"window.open(url)"}),"\u3002",(0,t.jsx)(e.code,{children:"Scratch.openWindow"})," \u603b\u662f\u5c06 target \u8bbe\u7f6e\u4e3a ",(0,t.jsx)(e.code,{children:'"_blank"'})," \u4ee5\u6253\u5f00\u65b0\u6807\u7b7e\u6216\u7a97\u53e3\u3002\u5982\u679c\u7531\u4e8e\u67d0\u79cd\u539f\u56e0\u65e0\u6cd5\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"Scratch.openWindow(url)"}),"\uff0c\u5728\u8c03\u7528 ",(0,t.jsx)(e.code,{children:"window.open(url)"})," \u4e4b\u524d\u68c0\u67e5 ",(0,t.jsx)(e.code,{children:"await Scratch.canOpenWindow(url)"}),"\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u4e0d\u8981\u8fd9\u6837\u505a\uff1a\r\nconst win = window.open(url);\r\n// \u5e94\u8be5\u8fd9\u6837\u505a\uff1a\r\nconst win = await Scratch.openWindow(url);\r\n\r\n// \u4e0d\u8981\u8fd9\u6837\u505a\uff1a\r\nconst win = window.open(url, '_blank', 'width=400,height=400')\r\n// \u5e94\u8be5\u8fd9\u6837\u505a\uff1a\r\nconst win = await Scratch.openWindow(url, 'width=400,height=400');\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762",children:"\u91cd\u5b9a\u5411\u5f53\u524d\u9875\u9762"}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"Scratch.redirect(url)"})," \u800c\u4e0d\u662f ",(0,t.jsx)(e.code,{children:"location.href = url"}),"\u3002\u5982\u679c\u65e0\u6cd5\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"Scratch.redirect(url)"}),"\uff0c\u5728\u8fd0\u884c ",(0,t.jsx)(e.code,{children:"location.href = url"})," \u4e4b\u524d\u68c0\u67e5 ",(0,t.jsx)(e.code,{children:"await Scratch.canRedirect(url)"}),"\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"// \u4e0d\u8981\u8fd9\u6837\u505a\uff1a\r\nlocation.href = url;\r\n// \u5e94\u8be5\u8fd9\u6837\u505a\uff1a\r\nawait Scratch.redirect(url);\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u7ec3\u4e60",children:"\u7ec3\u4e60"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u9f13\u52b1\u60a8\u5728\u4e0d\u4f7f\u7528\u63d0\u793a\u7684\u60c5\u51b5\u4e0b\u5c1d\u8bd5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002\u8fd9\u4f1a\u8ba9\u60a8\u66f4\u719f\u6089 VM \u5185\u90e8\u529f\u80fd\u7684\u5de5\u4f5c\u65b9\u5f0f\u3002"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\u521b\u5efa\u4e00\u4e2a\u6309\u4e0b\u7eff\u65d7\u7684\u79ef\u6728\u5757\u3002\uff08\u63d0\u793a\uff1a",(0,t.jsx)(c.o,{children:"vm.greenFlag"}),"\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:['\u521b\u5efa\u4e00\u4e2a\u8fd4\u56de\u89d2\u8272 x \u5750\u6807\u7684\u79ef\u6728\u5757\uff0c\u7c7b\u4f3c\u4e8e "x \u5750\u6807" \u79ef\u6728\u5757\u3002\uff08\u63d0\u793a\uff1a',(0,t.jsx)(c.o,{children:"target.x"}),"\uff09"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u4e0b\u4e00\u6b65",children:"\u4e0b\u4e00\u6b65"}),"\n",(0,t.jsxs)(e.p,{children:["\u6839\u636e\u60a8\u4f7f\u7528\u7684\u670d\u52a1\u5668\uff0c\u60a8\u53ef\u80fd\u5df2\u7ecf\u538c\u5026\u4e86\u6bcf\u6b21\u90fd\u8bb0\u4f4f\u786c\u91cd\u65b0\u52a0\u8f7d\u6240\u6709\u5185\u5bb9\u3002\u8ba9\u6211\u4eec\u5b66\u4e60\u4e00\u4e0b ",(0,t.jsx)(e.a,{href:"./better-development-server",children:"\u66f4\u597d\u7684\u5f00\u53d1\u670d\u52a1\u5668"}),"\u3002"]})]})}function x(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(h,{...n})}):h(n)}},4455:(n,e,r)=>{r.d(e,{M:()=>i,o:()=>o});var t=r(7294),s=r(2389),c=r(4179),l=r(5893);const i=n=>{var e;let{title:r,children:t}=n;const i=(0,s.Z)()?null==(e=window.location)?void 0:e.origin:"";return(0,l.jsx)("div",{children:(0,l.jsx)(c.Z,{language:"js",showLineNumbers:!0,title:(0,l.jsxs)("div",{children:[r+".js"," - ",(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:r.startsWith("unsandboxed/")?"https://turbowarp.org/editor?extension=https://extensions.turbowarp.org/docs-examples/"+r+".js":"https://turbowarp.org/editor?extension="+i+"/example-extensions/"+r+".js",children:"Try this extension"})]}),children:t.default})})},o=n=>{let{children:e}=n;const[r,s]=(0,t.useState)(!1);return(0,l.jsx)("span",{style:Object.assign({transition:".2s background-color",borderRadius:"2px"},r?{}:{cursor:"pointer",backgroundColor:"currentcolor"}),onClick:()=>s(!0),children:(0,l.jsx)("span",{style:r?{}:{opacity:"0"},children:e})})}},7458:(n,e,r)=>{r.r(e),r.d(e,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This Block Utility example must run unsandboxed');\r\n  }\r\n\r\n  class BlockUtilityExamples {\r\n    getInfo() {\r\n      return {\r\n        id: 'blockutilityexamples',\r\n        name: 'BlockUtility Examples',\r\n        blocks: [\r\n          {\r\n            opcode: 'getSpriteName',\r\n            text: 'sprite name',\r\n            blockType: Scratch.BlockType.REPORTER,\r\n          },\r\n          {\r\n            opcode: 'doesVariableExist',\r\n            text: 'is there a [TYPE] named [NAME]?',\r\n            blockType: Scratch.BlockType.BOOLEAN,\r\n            arguments: {\r\n              NAME: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                defaultValue: 'my variable'\r\n              },\r\n              TYPE: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                menu: 'TYPE_MENU',\r\n                defaultValue: 'list'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        menus: {\r\n          TYPE_MENU: {\r\n            acceptReporters: true,\r\n            items: [\r\n              // Value here corresponds to the internal types of the variables\r\n              // in scratch-vm. And yes, broadcasts are actually variables.\r\n              // https://github.com/TurboWarp/scratch-vm/blob/20c60193c1c567a65cca87b16d22c51963565a43/src/engine/variable.js#L43-L67\r\n              {\r\n                text: 'variable',\r\n                value: ''\r\n              },\r\n              'list',\r\n              {\r\n                text: 'broadcast',\r\n                value: 'broadcast_msg'\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      };\r\n    }\r\n    // highlight-start\r\n    getSpriteName(args, util) {\r\n      return util.target.getName();\r\n    }\r\n    doesVariableExist(args, util) {\r\n      const variable = util.target.lookupVariableByNameAndType(args.NAME.toString(), args.TYPE);\r\n      // Remember: Boolean blocks need to explicitly return a boolean on their own\r\n      return !!variable;\r\n    }\r\n    // highlight-end\r\n  }\r\n  Scratch.extensions.register(new BlockUtilityExamples());\r\n})(Scratch);\r\n"},8250:(n,e,r)=>{r.r(e),r.d(e,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This Hello World example must run unsandboxed');\r\n  }\r\n\r\n  class HelloWorld {\r\n    getInfo() {\r\n      return {\r\n        id: 'helloworldunsandboxed',\r\n        name: 'Unsandboxed Hello World',\r\n        blocks: [\r\n          {\r\n            opcode: 'hello',\r\n            blockType: Scratch.BlockType.REPORTER,\r\n            text: 'Hello!'\r\n          }\r\n        ]\r\n      };\r\n    }\r\n    hello() {\r\n      return 'World!';\r\n    }\r\n  }\r\n  Scratch.extensions.register(new HelloWorld());\r\n})(Scratch);\r\n"},4940:(n,e,r)=>{r.r(e),r.d(e,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  // highlight-start\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This Turbo Mode example must run unsandboxed');\r\n  }\r\n  const vm = Scratch.vm;\r\n  // highlight-end\r\n\r\n  class TurboMode {\r\n    getInfo() {\r\n      return {\r\n        id: 'turbomodeunsandboxed',\r\n        name: 'Turbo Mode',\r\n        blocks: [\r\n          {\r\n            opcode: 'set',\r\n            blockType: Scratch.BlockType.COMMAND,\r\n            text: 'set turbo mode to [ENABLED]',\r\n            arguments: {\r\n              ENABLED: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                menu: 'ENABLED_MENU'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        menus: {\r\n          ENABLED_MENU: {\r\n            acceptReporters: true,\r\n            items: ['on', 'off']\r\n          }\r\n        }\r\n      };\r\n    }\r\n    // highlight-start\r\n    set(args) {\r\n      vm.setTurboMode(args.ENABLED === 'on');\r\n    }\r\n    // highlight-end\r\n  }\r\n  Scratch.extensions.register(new TurboMode());\r\n})(Scratch);\r\n"}}]);
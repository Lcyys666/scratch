"use strict";(self.webpackChunkturbowarp_docs=self.webpackChunkturbowarp_docs||[]).push([[4801],{7509:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>x,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var t=r(5893),s=r(1151),c=r(4455);const i={hide_table_of_contents:!0},d="\u4e8b\u4ef6\u548c\u5e3d\u5b50\u79ef\u6728\u5757",a={id:"development/extensions/hats",title:"\u4e8b\u4ef6\u548c\u5e3d\u5b50\u79ef\u6728\u5757",description:"\u4e8b\u4ef6\u79ef\u6728\u5757\u548c\u5e3d\u5b50\u79ef\u6728\u5757\u662f\u4e24\u79cd\u5141\u8bb8\u60a8\u63a7\u5236\u811a\u672c\u4f55\u65f6\u8fd0\u884c\u7684\u79ef\u6728\u5757\u7c7b\u578b\u3002\u5c3d\u7ba1\u5b83\u4eec\u770b\u8d77\u6765\u76f8\u4f3c\uff0c\u4f46\u5b83\u4eec\u662f\u4e0d\u540c\u7684\u3002",source:"@site/docs/development/extensions/hats.md",sourceDirName:"development/extensions",slug:"/development/extensions/hats",permalink:"/development/extensions/hats",draft:!1,unlisted:!1,editUrl:"https://github.com/Lcyys666/TurboWarpdocs/edit/master/docs/development/extensions/hats.md",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"development",previous:{title:"\u5404\u79cd API",permalink:"/development/extensions/assorted-apis"},next:{title:"\u7ef4\u62a4\u517c\u5bb9\u6027",permalink:"/development/extensions/compatibility"}},h={},l=[{value:"\u4e8b\u4ef6\u79ef\u6728\u5757",id:"\u4e8b\u4ef6\u79ef\u6728\u5757",level:2},{value:"\u901a\u8fc7\u83dc\u5355\u8fc7\u6ee4",id:"\u901a\u8fc7\u83dc\u5355\u8fc7\u6ee4",level:2},{value:"\u901a\u8fc7\u89d2\u8272\u8fc7\u6ee4",id:"\u901a\u8fc7\u89d2\u8272\u8fc7\u6ee4",level:2},{value:"\u91cd\u542f\u73b0\u6709\u7ebf\u7a0b",id:"\u91cd\u542f\u73b0\u6709\u7ebf\u7a0b",level:2},{value:"\u5df2\u542f\u52a8\u7ebf\u7a0b\u5217\u8868",id:"\u5df2\u542f\u52a8\u7ebf\u7a0b\u5217\u8868",level:2},{value:"\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757",id:"\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757",level:2},{value:"\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u79ef\u6728\u5757",id:"\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u79ef\u6728\u5757",level:2},{value:"\u7ec3\u4e60",id:"\u7ec3\u4e60",level:2},{value:"\u4e0b\u4e00\u6b65",id:"\u4e0b\u4e00\u6b65",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u4e8b\u4ef6\u548c\u5e3d\u5b50\u79ef\u6728\u5757",children:"\u4e8b\u4ef6\u548c\u5e3d\u5b50\u79ef\u6728\u5757"}),"\n","\n","\n",(0,t.jsx)(n.p,{children:"\u4e8b\u4ef6\u79ef\u6728\u5757\u548c\u5e3d\u5b50\u79ef\u6728\u5757\u662f\u4e24\u79cd\u5141\u8bb8\u60a8\u63a7\u5236\u811a\u672c\u4f55\u65f6\u8fd0\u884c\u7684\u79ef\u6728\u5757\u7c7b\u578b\u3002\u5c3d\u7ba1\u5b83\u4eec\u770b\u8d77\u6765\u76f8\u4f3c\uff0c\u4f46\u5b83\u4eec\u662f\u4e0d\u540c\u7684\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u4e8b\u4ef6\u79ef\u6728\u5757",children:"\u4e8b\u4ef6\u79ef\u6728\u5757"}),"\n",(0,t.jsx)(n.p,{children:'\u4e8b\u4ef6\u79ef\u6728\u5757\u7528\u4e8e\u54cd\u5e94\u5916\u90e8\u4e8b\u4ef6\u8fd0\u884c\u811a\u672c\u3002\u4e00\u4e2a\u4f8b\u5b50\u662f"\u5f53\u7eff\u65d7\u88ab\u70b9\u51fb" - \u4e8b\u4ef6\u662f\u7528\u6237\u70b9\u51fb\u7eff\u65d7\u6309\u94ae\u65f6\u3002"\u5f53\u89d2\u8272\u88ab\u70b9\u51fb"\u540c\u6837\u662f\u5728\u54cd\u5e94\u70b9\u51fb\u4e8b\u4ef6\u65f6\u8fd0\u884c\uff0c\u5c3d\u7ba1 Scratch \u505a\u4e86\u66f4\u591a\u5de5\u4f5c\u6765\u786e\u5b9a\u4e8b\u4ef6\u53d1\u751f\u5728\u54ea\u4e2a\u89d2\u8272\u4e0a\u3002\u4e8b\u4ef6\u79ef\u6728\u5757\u53ef\u4ee5\u7528\u4e8e\u4efb\u4f55\u5141\u8bb8\u60a8\u8fd0\u884c\u56de\u8c03\u7684\u5916\u90e8\u4e8b\u4ef6\u3002'}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"\u4e8b\u4ef6\u79ef\u6728\u5757\u4ec5\u5728\u975e\u6c99\u76d2\u5316\u6269\u5c55\u4e2d\u652f\u6301\u3002"})}),"\n",(0,t.jsx)(n.p,{children:"\u4e8b\u4ef6\u79ef\u6728\u5757\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u6267\u884c\uff1b\u5b83\u4eec\u53ea\u662f\u6807\u8bb0\u8981\u8fd0\u884c\u54ea\u4e9b\u811a\u672c\u3002\u4f8b\u5982\uff0c\u8003\u8651\u8fd9\u4e2a\u60a8\u719f\u6089\u7684\u79ef\u6728\u5757\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"\u5f53\u6309\u4e0b\u7a7a\u683c\u952e",src:r(3165).Z+"",width:"165",height:"50"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5f53\u60a8\u8fd0\u884c\u8fd9\u4e2a\u79ef\u6728\u5757\u65f6\uff0c\u5b83\u672c\u8eab\u4e0d\u4f1a\u505a\u4efb\u4f55\u4e8b\u60c5\u3002\u5b83\u53ea\u662f\u8868\u660e\u5b83\u4e0b\u9762\u7684\u5185\u5bb9\u5e94\u8be5\u8fd0\u884c\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"Scratch.BlockType.EVENT"})," \u521b\u5efa\u5177\u6709\u7c7b\u4f3c\u529f\u80fd\u7684\u4e8b\u4ef6\u79ef\u6728\u5757\uff1a"]}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/when-space-key-pressed",children:r(2621)}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u7a0d\u540e\u4f1a\u8ba8\u8bba ",(0,t.jsx)(n.code,{children:"isEdgeActivated: false"})," \u7684\u542b\u4e49\uff0c\u4f46\u5bf9\u4e8e\u4e8b\u4ef6\u79ef\u6728\u5757\u6765\u8bf4\uff0c\u8fd9\u662f",(0,t.jsx)(n.strong,{children:"\u5fc5\u9700\u7684\u6837\u677f\u4ee3\u7801"}),"\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86 opcode ",(0,t.jsx)(n.code,{children:"whenSpacePressed"}),"\uff0c\u4f46",(0,t.jsx)(n.strong,{children:"\u56e0\u4e3a\u5b83\u662f\u4e00\u4e2a\u4e8b\u4ef6\u79ef\u6728\u5757\uff0c\u6211\u4eec\u4e0d\u4e3a\u5b83\u7f16\u5199\u4efb\u4f55\u4ee3\u7801\u3002"})]}),"\n",(0,t.jsx)(n.p,{children:"\u8981\u542f\u52a8\u4e8b\u4ef6\u79ef\u6728\u5757\uff0c\u60a8\u4f7f\u7528 startHats\u3002\u8fd9\u6709\u4e24\u4e2a\u7248\u672c\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Scratch.vm.runtime.startHats"})," \u5e94\u8be5\u5728\u79ef\u6728\u5757\u5916\u90e8\u4f7f\u7528\uff08\u4f8b\u5982\uff0c\u70b9\u51fb\u7eff\u65d7\uff09"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"util.startHats"})," \u5e94\u8be5\u5728\u79ef\u6728\u5757\u5185\u90e8\u4f7f\u7528\uff08\u4f8b\u5982\uff0c\u5e7f\u64ad\u79ef\u6728\u5757\uff09"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["\u5728\u79ef\u6728\u5757\u5185\u90e8\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"Scratch.vm.runtime.startHats"})," \u800c\u4e0d\u662f ",(0,t.jsx)(n.code,{children:"util.startHats"})," \u53ef\u80fd\u4f1a\u7834\u574f\u811a\u672c\u6267\u884c\u3002"]})}),"\n",(0,t.jsxs)(n.p,{children:["\u53c2\u6570\u548c\u8fd4\u56de\u503c",(0,t.jsx)(n.em,{children:"\u5b8c\u5168\u76f8\u540c"}),"\u3002\u4f20\u9012\u7ed9 startHats \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f",(0,t.jsx)(n.em,{children:"\u5b8c\u6574\u7684"}),"\u79ef\u6728\u5757 opcode\uff0c\u5373 ",(0,t.jsx)(n.code,{children:"extensionid_opcode"}),"\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u90a3\u5c31\u662f ",(0,t.jsx)(n.code,{children:"eventexampleunsandboxed_whenSpacePressed"}),"\u3002\u8fd9\u5c06\u5f00\u59cb\u8fd0\u884c\u9879\u76ee\u4e2d\u9876\u90e8\u79ef\u6728\u5757\u662f\u8fd9\u4e2a opcode \u7684\u6240\u6709\u811a\u672c\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 keydown \u4e8b\u4ef6\uff0c\u4f46\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u60a8\u60f3\u8981\u7684\u4e8b\u4ef6\u3002\u5c1d\u8bd5\u4f7f\u7528\u70b9\u51fb\u4e8b\u4ef6\uff0c\u6216\u8005 setTimeout/setInterval\u3001fetch() \u548c\u5176\u4ed6 API\u3002\u53ea\u8981\u60a8\u80fd\u5f97\u5230\u4e00\u4e2a\u56de\u8c03\uff0c\u8fd9\u5c31\u4f1a\u5de5\u4f5c\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u901a\u8fc7\u83dc\u5355\u8fc7\u6ee4",children:"\u901a\u8fc7\u83dc\u5355\u8fc7\u6ee4"}),"\n",(0,t.jsx)(n.p,{children:'\u60a8\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230 Scratch \u7684\u5185\u7f6e"\u5f53\u6309\u4e0b\u6309\u952e"\u79ef\u6728\u5757\u6709\u4e00\u4e2a\u83dc\u5355\u3002\u4f7f\u7528\u6211\u4eec\u5f53\u524d\u7684\u6269\u5c55\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u6bcf\u4e2a\u6309\u952e\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u79ef\u6728\u5757\u3002\u8fd9\u4e0d\u662f\u7406\u60f3\u7684\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u83dc\u5355\u3002'}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/when-key-pressed",children:r(5786)}),"\n",(0,t.jsxs)(n.p,{children:["\u79ef\u6728\u5757\u7684\u5b9a\u4e49\u4e0e\u5176\u4ed6\u79ef\u6728\u5757\u7c7b\u4f3c\u3002\u8bf7\u6ce8\u610f\uff0c\u4e8b\u4ef6\u79ef\u6728\u5757",(0,t.jsx)(n.strong,{children:"\u53ea\u652f\u6301\u5b57\u6bb5\u83dc\u5355"}),"\u3002\u60a8\u4e0d\u80fd\u6709\u6587\u672c\u8f93\u5165\u6216\u8ba9\u67d0\u4eba\u653e\u7f6e\u79ef\u6728\u5757\u7684\u5730\u65b9\u3002\u8981\u901a\u8fc7\u53c2\u6570\u8fc7\u6ee4\uff0c\u5b83",(0,t.jsx)(n.strong,{children:"\u5fc5\u987b\u662f\u4e00\u4e2a acceptReporters: false \u7684\u83dc\u5355"}),"\u3002\uff08\u7a0d\u540e\u8ba8\u8bba\u7684\u79ef\u6728\u5757\u7c7b\u578b\u5bf9\u6b64\u66f4\u5bbd\u677e\u3002\uff09"]}),"\n",(0,t.jsxs)(n.p,{children:["startHats \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u518d\u6b21\u662f\u5b8c\u6574\u7684 opcode\u3002startHats \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u7528\u4e8e\u8fc7\u6ee4\u8981\u6fc0\u6d3b\u54ea\u4e9b\u4e8b\u4ef6\u7684\u5bf9\u8c61\u3002\u8fd9\u4e2a\u5bf9\u8c61\u4e2d\u7684\u952e\u540d\u662f\u79ef\u6728\u5757\u7684\u53c2\u6570\u540d\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u662f ",(0,t.jsx)(n.code,{children:"KEY"}),"\uff09\uff0c\u503c\u5bf9\u5e94\u4e8e\u83dc\u5355\u7684\u503c\uff08\u4e0d\u662f\u6587\u672c\uff01\uff09\u3002\u5982\u679c\u60a8\u60f3\u8981\uff0c\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2a\u952e\u8fdb\u884c\u8fc7\u6ee4\uff0c\u6240\u6709\u952e\u90fd\u5fc5\u987b\u5339\u914d\u3002"]}),"\n",(0,t.jsx)(n.p,{children:'Scratch \u4e2d\u771f\u6b63\u7684"\u5f53\u6309\u4e0b\u6309\u952e"\u79ef\u6728\u5757\u6bd4\u8fd9\u4e2a\u66f4\u590d\u6742\u3002\u8fd9\u53ea\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002'}),"\n",(0,t.jsx)(n.h2,{id:"\u901a\u8fc7\u89d2\u8272\u8fc7\u6ee4",children:"\u901a\u8fc7\u89d2\u8272\u8fc7\u6ee4"}),"\n",(0,t.jsx)(n.p,{children:'Scratch \u7684"\u5f53\u89d2\u8272\u88ab\u70b9\u51fb"\u79ef\u6728\u5757\u53ea\u5728\u4e00\u4e2a\u89d2\u8272\u4e0a\u8fd0\u884c\uff0c\u800c\u4e0d\u662f\u6bcf\u4e2a\u89d2\u8272\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 startHats \u7684\u7b2c\u4e09\u4e2a\uff08\u4e5f\u662f\u6700\u540e\u4e00\u4e2a\uff09\u53c2\u6570\u3002\u7b2c\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u76ee\u6807\u5bf9\u8c61 -- \u6bcf\u4e2a\u89d2\u8272\u6216\u514b\u9686\u90fd\u662f\u4e00\u4e2a"\u76ee\u6807"\u3002\u5982\u679c\u8bbe\u7f6e\uff0c\u53ea\u6709\u8be5\u76ee\u6807\u4e2d\u7684\u4e8b\u4ef6\u79ef\u6728\u5757\u4f1a\u8fd0\u884c\u3002'}),"\n",(0,t.jsx)(n.p,{children:"\u83b7\u53d6\u76ee\u6807\u5bf9\u8c61\u6700\u5e38\u89c1\u7684\u65b9\u6cd5\u662f\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Scratch.vm.runtime.getTargetForStage()"})," \u83b7\u53d6\u821e\u53f0\u76ee\u6807"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'Scratch.vm.runtime.getSpriteTargetByName("Sprite1")'})," \u83b7\u53d6\u5177\u6709\u7ed9\u5b9a\u540d\u79f0\u7684\u975e\u514b\u9686\u76ee\u6807"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Scratch.vm.runtime.targets"})," \u83b7\u53d6\u5b8c\u6574\u5217\u8868\u4ee5\u81ea\u884c\u641c\u7d22"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4fee\u6539\u4e86\u4e4b\u524d\u7684\u6269\u5c55\uff0c\u4f7f\u5176\u53ea\u5728\u821e\u53f0\u4e2d\u8fd0\u884c\u79ef\u6728\u5757\u3002"}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/when-key-pressed-stage",children:r(942)}),"\n",(0,t.jsxs)(n.p,{children:["\u8981\u53ea\u6309\u89d2\u8272\u8fc7\u6ee4\u800c\u4e0d\u6309\u5b57\u6bb5\u8fc7\u6ee4\uff0c\u60a8\u53ef\u4ee5\u5c06\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8bbe\u7f6e\u4e3a null \u6216\u7a7a\u5bf9\u8c61\uff08",(0,t.jsx)(n.code,{children:"{}"}),"\uff09\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u91cd\u542f\u73b0\u6709\u7ebf\u7a0b",children:"\u91cd\u542f\u73b0\u6709\u7ebf\u7a0b"}),"\n",(0,t.jsx)(n.p,{children:"\u8003\u8651\u8fd9\u4e2a\u811a\u672c\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(3913).Z+"",width:"166",height:"115"})}),"\n",(0,t.jsxs)(n.p,{children:["\u60a8\u53ef\u80fd\u4f1a\u89c2\u5bdf\u5230\uff0c\u5982\u679c\u60a8\u91cd\u590d\u6309\u7a7a\u683c\u952e\uff0c\u811a\u672c\u4e0d\u4f1a\u91cd\u542f\uff08\u8fd9\u4f1a\u91cd\u7f6e\u7b49\u5f85\u79ef\u6728\u5757\u7684\u8ba1\u65f6\u5668\uff09 -- \u5b83\u53ea\u662f\u7ee7\u7eed\u6267\u884c\u3002\u5982\u679c\u8fd9\u4e0d\u662f\u60a8\u60f3\u8981\u7684\uff0c\u5728\u79ef\u6728\u5757\u4e0a\u8bbe\u7f6e ",(0,t.jsx)(n.code,{children:"shouldRestartExistingThreads: true"}),"\u3002"]}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/when-key-pressed-restart",children:r(684)}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u60a8\u91cd\u65b0\u521b\u5efa\u76f8\u540c\u7684\u811a\u672c\uff0c\u53ea\u8981\u60a8\u91cd\u590d\u6309\u7a7a\u683c\u952e\uff0csay \u79ef\u6728\u5757\u5c31\u6c38\u8fdc\u4e0d\u4f1a\u6267\u884c\uff0c\u56e0\u4e3a\u811a\u672c\u6bcf\u6b21\u90fd\u4f1a\u91cd\u542f\uff0c\u8fd9\u4f1a\u91cd\u7f6e\u7b49\u5f85\u79ef\u6728\u5757\u7684\u8ba1\u65f6\u5668\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u9876\u90e8\u79ef\u6728\u5757\u6709 ",(0,t.jsx)(n.code,{children:"shouldRestartExistingThreads: true"}),' \u7684\u811a\u672c\u5bf9\u81ea\u5df1\u8c03\u7528 startHats\uff08\u7c7b\u4f3c\u4e8e"\u5f53\u6536\u5230\u6d88\u606f1\uff1a\u5e7f\u64ad\u6d88\u606f1"\uff09\uff0c\u5f53\u524d\u8fd0\u884c\u7684\u811a\u672c\u5c06\u88ab\u6807\u8bb0\u4e3a\u91cd\u542f\uff0c\u4f46\u4f1a\u7ee7\u7eed\u8fd0\u884c\u79ef\u6728\u5757\u76f4\u5230\u5b83\u8ba9\u51fa\u3002']}),"\n",(0,t.jsx)(n.h2,{id:"\u5df2\u542f\u52a8\u7ebf\u7a0b\u5217\u8868",children:"\u5df2\u542f\u52a8\u7ebf\u7a0b\u5217\u8868"}),"\n",(0,t.jsx)(n.p,{children:"\u6700\u540e\uff0cstartHats \u8fd4\u56de\u5b83\u542f\u52a8\u7684 Thread \u5bf9\u8c61\u6570\u7ec4\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u76d1\u63a7\u7ebf\u7a0b\u72b6\u6001\u3001\u786e\u5b9a\u542f\u52a8\u4e86\u591a\u5c11\u4e2a\u7ebf\u7a0b\u7b49\u3002"}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/broadcast-5",children:r(6436)}),"\n",(0,t.jsx)(n.h2,{id:"\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757",children:"\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757"}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757\u4ec5\u5728\u975e\u6c99\u76d2\u5316\u6269\u5c55\u4e2d\u652f\u6301\u3002"})}),"\n",(0,t.jsx)(n.p,{children:"\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757\u8ba9\u60a8\u53ef\u4ee5\u521b\u5efa\u7c7b\u4f3c\u8fd9\u6837\u7684\u5185\u5bb9\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(3742).Z+"",width:"154",height:"185"})}),"\n",(0,t.jsxs)(n.p,{children:["\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u57fa\u672c\u4e0a\u662f\u4e8b\u4ef6\u79ef\u6728\u5757\u7684\u4e00\u4e2a\u66f4\u5f3a\u5927\u7684\u7248\u672c\u3002\u5b83\u4f7f\u7528\u76f8\u540c\u7684 startHats \u5e76\u652f\u6301 ",(0,t.jsx)(n.code,{children:"shouldRestartExistingThreads"}),"\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5e3d\u5b50\u79ef\u6728\u5757\u5fc5\u987b\u5b9a\u4e49\u4e00\u4e2a\u8fd4\u56de true \u6216 false \u7684\u51fd\u6570\u3002\u6240\u6709\u79ef\u6728\u5757\u7684\u8f93\u5165\u90fd\u4f1a\u88ab\u8bc4\u4f30\uff0c\u7136\u540e\u5e3d\u5b50\u79ef\u6728\u5757\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u6765\u786e\u5b9a\u5b83\u4e0b\u9762\u7684\u79ef\u6728\u5757\u662f\u5426\u5e94\u8be5\u8fd0\u884c\u3002\u79ef\u6728\u5757\u7c7b\u578b\u662f ",(0,t.jsx)(n.code,{children:"Scratch.BlockType.HAT"}),"\u3002\u6211\u4eec\u53ef\u4ee5\u5c06\u4e0a\u9762\u7684\u5185\u5bb9\u8fd1\u4f3c\u4e3a\uff1a"]}),"\n",(0,t.jsx)(c.M,{title:"unsandboxed/when",children:r(9273)}),"\n",(0,t.jsx)(n.p,{children:"\u60a8\u53ef\u4ee5\u8fd9\u6837\u6d4b\u8bd5\u79ef\u6728\u5757\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(3275).Z+"",width:"215",height:"88"})}),"\n",(0,t.jsx)(n.p,{children:"\u8bf7\u6ce8\u610f\uff0c\u8fd9\u5e76\u4e0d\u5b8c\u5168\u76f8\u540c\u3002\u5982\u679c\u6ca1\u6709\u89c6\u89c9\u53d8\u5316\u6216\u9879\u76ee\u5904\u4e8e\u6da1\u8f6e\u6a21\u5f0f\uff0cforever \u79ef\u6728\u5757\u6bcf\u5e27\u4f1a\u8fd0\u884c\u5f88\u591a\u5f88\u591a\u6b21\uff0c\u800c\u5e3d\u5b50\u79ef\u6728\u5757\u6bcf\u5e27\u53ea\u4f1a\u8fd0\u884c\u4e00\u6b21\u3002"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"isEdgeActivated: false"})," \u518d\u6b21\u662f\u5fc5\u9700\u7684\u6837\u677f\u4ee3\u7801\u3002\u79ef\u6728\u5757\u7684\u5b9a\u4e49\u4e0e\u5176\u4ed6\u4efb\u4f55\u79ef\u6728\u5757\u76f8\u540c\u3002startHats \u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0e\u4e8b\u4ef6\u79ef\u6728\u5757\u5b8c\u5168\u76f8\u540c\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f",(0,t.jsx)(n.em,{children:"\u5b8c\u6574\u7684"})," opcode\uff0c\u7136\u540e\u662f\u53ef\u9009\u5b57\u6bb5\u8fc7\u6ee4\u5668\uff0c\u7136\u540e\u662f\u53ef\u9009\u76ee\u6807\u8fc7\u6ee4\u5668\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u91cd\u8981\u7684\u533a\u522b\u662f ",(0,t.jsx)(n.code,{children:"when"})," \u5b9e\u9645\u4e0a\u6709\u4ee3\u7801\u3002\u5728\u60a8\u6267\u884c startHats \u540e\uff0c\u79ef\u6728\u5757\u7684\u8f93\u5165\u548c\u53c2\u6570\u5c06\u88ab\u8bc4\u4f30\u5e76\u4f20\u9012\u7ed9\u79ef\u6728\u5757\u3002\u79ef\u6728\u5757\u53ef\u4ee5\u8fd4\u56de ",(0,t.jsx)(n.code,{children:"true"})," \u8ba9\u811a\u672c\u8fd0\u884c\uff0c\u6216\u8fd4\u56de ",(0,t.jsx)(n.code,{children:"false"})," \u963b\u6b62\u5b83\u8fd0\u884c\u3002\u5982\u679c\u9700\u8981\uff0c\u79ef\u6728\u5757\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u89e3\u6790\u4e3a ",(0,t.jsx)(n.code,{children:"true"})," \u6216 ",(0,t.jsx)(n.code,{children:"false"})," \u7684 Promise\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u8fd9\u91cc\u7684\u4e00\u4e2a\u68d8\u624b\u4e4b\u5904\u662f Scratch \u4e0d\u4f1a\u81ea\u52a8\u542f\u52a8\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757 -- \u60a8\u9700\u8981\u81ea\u5df1\u542f\u52a8\u5b83\u4eec\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"BEFORE_EXECUTE"})," \u4e8b\u4ef6\uff08\u987e\u540d\u601d\u4e49\uff0c\u5b83\u5728\u4efb\u4f55\u811a\u672c\u8fd0\u884c\u4e4b\u524d\u8fd0\u884c\uff0c\u6240\u4ee5\u60a8\u5728\u8fd9\u91cc\u542f\u52a8\u7684\u4efb\u4f55\u5185\u5bb9\u90fd\u4f1a\u5728\u8be5\u5e27\u671f\u95f4\u8fd0\u884c\uff09\u3002\u4e0e\u4e8b\u4ef6\u79ef\u6728\u5757\u4e00\u6837\uff0c\u60a8\u53ef\u4ee5\u4ece\u4efb\u4f55\u83b7\u5f97\u56de\u8c03\u7684\u5730\u65b9\u8fd0\u884c\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u79ef\u6728\u5757\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u79ef\u6728\u5757",children:"\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u79ef\u6728\u5757"}),"\n",(0,t.jsxs)(n.p,{children:["\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u8ba9\u60a8\u5728\u6761\u4ef6",(0,t.jsx)(n.em,{children:"\u4e3a"}),"\u771f\u65f6\u8fd0\u884c\u811a\u672c\u3002\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u79ef\u6728\u5757\u8ba9\u60a8\u5728\u6761\u4ef6",(0,t.jsx)(n.em,{children:"\u53d8\u4e3a"}),"\u771f\u65f6\u8fd0\u884c\u811a\u672c\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u662f\u4e00\u4e2a\u5fae\u5999\u4f46\u91cd\u8981\u7684\u533a\u522b\u3002\u8003\u8651\u8fd9\u4e24\u4e2a\u811a\u672c\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(4013).Z+"",width:"186",height:"207"})}),"\n",(0,t.jsxs)(n.p,{children:["\u867d\u7136\u79ef\u6728\u5757\u53ef\u80fd\u770b\u8d77\u6765\u76f8\u4f3c\uff0c\u4f46\u5b83\u4eec\u6709\u4e00\u4e2a\u91cd\u8981\u7684\u533a\u522b\u3002\u4e0a\u9762\u7684\u79ef\u6728\u5757\u53ea\u4f1a\u5728\u8ba1\u65f6\u5668",(0,t.jsx)(n.em,{children:"\u53d8\u4e3a"})," 5 \u65f6\u8fd0\u884c",(0,t.jsx)(n.em,{children:"\u4e00\u6b21"}),"\uff0c\u800c\u4e0b\u9762\u7684\u79ef\u6728\u5757\u4f1a\u5728\u8ba1\u65f6\u5668\u8fbe\u5230 5 \u540e\u91cd\u590d\u8fd0\u884c\u3002"]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u53ef\u4ee5\u5728\u4efb\u4f55\u6269\u5c55\u4e2d\u4f7f\u7528\uff0c\u751a\u81f3\u662f\u6c99\u76d2\u5316\u7684\u6269\u5c55"})}),"\n",(0,t.jsx)(n.p,{children:"\u8ba9\u6211\u4eec\u601d\u8003\u5982\u4f55\u4f7f\u7528\u666e\u901a\u7684 Scratch \u79ef\u6728\u5757\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u8fd9\u6837\u7684\u4e1c\u897f\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(6590).Z+"",width:"171",height:"115"})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u53ea\u4f1a\u5de5\u4f5c\u4e00\u6b21\u3002\u6211\u4eec\u5982\u4f55\u8ba9\u5b83\u65e0\u9650\u6b21\u5de5\u4f5c\uff1f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(5960).Z+"",width:"182",height:"163"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5dee\u4e0d\u591a\u4e86\u3002\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u7b49\u5f85\u6761\u4ef6\u53d8\u4e3a\u5047\uff0c\u7136\u540e\u811a\u672c\u624d\u80fd\u518d\u6b21\u8fd0\u884c -- \u5982\u679c\u6761\u4ef6\u5df2\u7ecf\u4e3a\u771f\uff0c\u5b83\u5c31\u4e0d\u80fd",(0,t.jsx)(n.em,{children:"\u53d8\u4e3a\u771f"}),"\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(7839).Z+"",width:"221",height:"201"})}),"\n",(0,t.jsx)(n.p,{children:"\u672c\u8d28\u4e0a\uff0c\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u8ba9\u6211\u4eec\u5c06\u90a3\u4e2a\u5faa\u73af\u91cd\u5199\u4e3a\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(6676).Z+"",width:"126",height:"82"})}),"\n",(0,t.jsxs)(n.p,{children:['\u4e3a\u4e86\u6f14\u793a\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u7c7b\u4f3c\u4e8e Scratch \u7684"\u5f53\u8ba1\u65f6\u5668\u5927\u4e8e"\u79ef\u6728\u5757\u7684\u6269\u5c55\u3002\u79ef\u6728\u5757\u7c7b\u578b\u518d\u6b21\u662f ',(0,t.jsx)(n.code,{children:"Scratch.BlockType.HAT"}),"\uff0c\u4f46\u8fd9\u6b21\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"isEdgeActivated: true"}),"\uff1a"]}),"\n",(0,t.jsx)(c.M,{title:"timer-reimplementation",children:r(9668)}),"\n",(0,t.jsxs)(n.p,{children:["\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u4e0d\u5fc5\u8fd0\u884c startHats -- Scratch \u4f1a\u81ea\u52a8\u5728\u6bcf\u5e27\u5f00\u59cb\u65f6\u4e3a\u6bcf\u4e2a\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u8fd0\u884c startHats\u3002\u8fd9\u5141\u8bb8\u60a8\u5728\u6c99\u76d2\u5316\u6269\u5c55\u4e2d\u4f7f\u7528\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u3002\u60a8\u4e5f\u4e0d\u5e94\u8be5\u4e3a\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"shouldRestartExistingThreads: true"}),"\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u8981\u6d4b\u8bd5\u8fd9\u4e2a\uff0c\u4f7f\u7528\u8fd9\u6837\u7684\u811a\u672c\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(6409).Z+"",width:"181",height:"196"})}),"\n",(0,t.jsx)(n.p,{children:"\u6253\u5f00 JavaScript \u63a7\u5236\u53f0\uff0c\u6309\u7eff\u65d7\uff0c\u7136\u540e\u7b49\u5f85\u51e0\u79d2\u949f\u3002\u60a8\u4f1a\u770b\u5230\u7c7b\u4f3c\u8fd9\u6837\u7684\u5185\u5bb9\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"...\r\n2.719 false\r\n2.753 false\r\n2.785 false\r\n2.818 false\r\n2.851 false\r\n2.885 false\r\n2.918 false\r\n2.951 false\r\n2.985 false\r\n3.017 true\r\n4.113 true\r\n4.148 true\r\n4.181 true\r\n4.214 true\r\n4.248 true\r\n4.281 true\r\n4.314 true\r\n4.347 true\r\n4.381 true\r\n...\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5f53\u6269\u5c55\u7684\u8ba1\u65f6\u5668\u8fbe\u5230 3 \u79d2\u7684\u90a3\u4e00\u523b\uff0c\u79ef\u6728\u5757\u8fd4\u56de true\uff0c\u811a\u672c\u5f00\u59cb\u8fd0\u884c\u3002\u65e5\u5fd7\u505c\u6b62 1 \u79d2\u662f\u56e0\u4e3a\u811a\u672c\u6b63\u5728\u8fd0\u884c\u3002\u4e00\u65e6\u811a\u672c\u5b8c\u6210\uff0c\u5e3d\u5b50\u79ef\u6728\u5757\u53c8\u5f00\u59cb\u8fd0\u884c\u3002\u56e0\u4e3a\u5b83\u4ecd\u7136\u8fd4\u56de true\uff0c\u811a\u672c\u4e0d\u4f1a\u518d\u6b21\u8fd0\u884c\uff0c\u56e0\u4e3a\u6761\u4ef6\u6ca1\u6709",(0,t.jsx)(n.em,{children:"\u53d8\u4e3a\u771f"}),"\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u4e0e\u57fa\u4e8e\u8c13\u8bcd\u7684\u5e3d\u5b50\u7c7b\u4f3c\uff0c\u8fb9\u7f18\u6fc0\u6d3b\u7684\u5e3d\u5b50\u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u8f93\u5165\uff0c\u5982\u679c\u9700\u8981\u4e5f\u53ef\u4ee5\u8fd4\u56de Promise\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u7ec3\u4e60",children:"\u7ec3\u4e60"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u521b\u5efa\u4e00\u4e2a\u6bcf\u79d2\u949f\u8fd0\u884c\u4e00\u6b21\u7684\u4e8b\u4ef6\u79ef\u6728\u5757\uff0c\u53e6\u4e00\u4e2a\u6bcf 5 \u79d2\u8fd0\u884c\u4e00\u6b21\uff0c\u53e6\u4e00\u4e2a\u6bcf 10 \u79d2\u8fd0\u884c\u4e00\u6b21\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u5c06\u8fd9\u4e09\u4e2a\u4e8b\u4ef6\u79ef\u6728\u5757\u7ec4\u5408\u6210\u4e00\u4e2a\u5e26\u83dc\u5355\u7684\u79ef\u6728\u5757\u3002"}),"\n",(0,t.jsxs)(n.li,{children:['\u521b\u5efa\u4e00\u4e2a\u5e26\u6587\u672c\u8f93\u5165\u7684\u547d\u4ee4\u79ef\u6728\u5757\uff0c\u5b83\u5c06\u8fd0\u884c\u666e\u901a\u7684 Scratch \u5e7f\u64ad\u3002\u5185\u7f6e\u7684"\u5f53\u6536\u5230"\u79ef\u6728\u5757\u6709\u5b8c\u6574\u7684 opcode ',(0,t.jsx)(n.code,{children:"event_whenbroadcastreceived"}),"\uff0c\u5b83\u7684\u5355\u4e2a\u53c2\u6570\u53eb\u505a ",(0,t.jsx)(n.code,{children:"BROADCAST_OPTION"}),"\uff0c\u8fd9\u662f\u5e7f\u64ad\u7684\u540d\u79f0\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u4fee\u6539\u4e0a\u4e00\u4e2a\u7ec3\u4e60\u7684\u5e7f\u64ad\u79ef\u6728\u5757\uff0c\u4f7f\u5176\u6210\u4e3a\u4e00\u4e2a\u8fd4\u56de\u9017\u53f7\u5206\u9694\u5217\u8868\u7684\u62a5\u544a\u5668\uff0c\u8be5\u5217\u8868\u5305\u542b\u5728\u65b0\u7ebf\u7a0b\u542f\u52a8\u7684\u6bcf\u4e2a\u89d2\u8272\u7684\u540d\u79f0\u3002\uff08\u63d0\u793a\uff1a",(0,t.jsx)(c.o,{children:"\u6bcf\u4e2a\u7ebf\u7a0b\u5bf9\u8c61\u90fd\u5305\u542b\u4e00\u4e2a .target \u5c5e\u6027\uff0c\u6bcf\u4e2a\u76ee\u6807\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a .getName() \u65b9\u6cd5\u3002"}),"\uff09"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u4e0b\u4e00\u6b65",children:"\u4e0b\u4e00\u6b65"}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u8bb8\u591a API\uff0c\u4f46",(0,t.jsx)(n.a,{href:"./compatibility",children:"\u5982\u4f55\u786e\u4fdd\u6211\u4eec\u7684\u66f4\u6539\u4e0d\u4f1a\u7834\u574f\u9879\u76ee\uff1f"})]})]})}function x(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},4455:(e,n,r)=>{r.d(n,{M:()=>d,o:()=>a});var t=r(7294),s=r(2389),c=r(4179),i=r(5893);const d=e=>{var n;let{title:r,children:t}=e;const d=(0,s.Z)()?null==(n=window.location)?void 0:n.origin:"";return(0,i.jsx)("div",{children:(0,i.jsx)(c.Z,{language:"js",showLineNumbers:!0,title:(0,i.jsxs)("div",{children:[r+".js"," - ",(0,i.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:r.startsWith("unsandboxed/")?"https://turbowarp.org/editor?extension=https://extensions.turbowarp.org/docs-examples/"+r+".js":"https://turbowarp.org/editor?extension="+d+"/example-extensions/"+r+".js",children:"Try this extension"})]}),children:t.default})})},a=e=>{let{children:n}=e;const[r,s]=(0,t.useState)(!1);return(0,i.jsx)("span",{style:Object.assign({transition:".2s background-color",borderRadius:"2px"},r?{}:{cursor:"pointer",backgroundColor:"currentcolor"}),onClick:()=>s(!0),children:(0,i.jsx)("span",{style:r?{}:{opacity:"0"},children:n})})}},9668:(e,n,r)=>{r.r(n),r.d(n,{default:()=>t});const t="let startTime = Date.now();\r\n\r\nclass TimerReimplementationExample {\r\n  getInfo() {\r\n    return {\r\n      id: 'timerreimplementationexample',\r\n      name: 'Timer Example',\r\n      blocks: [\r\n        // highlight-start\r\n        {\r\n          opcode: 'whenTimerGreaterThan',\r\n          blockType: Scratch.BlockType.HAT,\r\n          text: 'when timer > [TIME]',\r\n          isEdgeActivated: true,\r\n          arguments: {\r\n            TIME: {\r\n              type: Scratch.ArgumentType.NUMBER,\r\n              defaultValue: '3'\r\n            }\r\n          }\r\n        },\r\n        // highlight-end\r\n        {\r\n          opcode: 'timer',\r\n          blockType: Scratch.BlockType.REPORTER,\r\n          text: 'timer'\r\n        },\r\n        {\r\n          opcode: 'resetTimer',\r\n          blockType: Scratch.BlockType.COMMAND,\r\n          text: 'reset timer'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n  // highlight-start\r\n  whenTimerGreaterThan({TIME}) {\r\n    console.log(this.timer(), this.timer() > Scratch.Cast.toNumber(TIME));\r\n    return this.timer() > Scratch.Cast.toNumber(TIME);\r\n  }\r\n  // highlight-end\r\n  timer() {\r\n    return (Date.now() - startTime) / 1000;\r\n  }\r\n  resetTimer() {\r\n    startTime = Date.now();\r\n  }\r\n}\r\n\r\nScratch.extensions.register(new TimerReimplementationExample());\r\n"},6436:(e,n,r)=>{r.r(n),r.d(n,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n  class Broadcast5 {\r\n    getInfo() {\r\n      return {\r\n        id: 'broadcast5example',\r\n        name: 'Broadcast Example 5',\r\n        blocks: [\r\n          {\r\n            opcode: 'whenReceived',\r\n            blockType: Scratch.BlockType.HAT,\r\n            text: 'when I receive [EVENT_OPTION]',\r\n            isEdgeActivated: false,\r\n            arguments: {\r\n              EVENT_OPTION: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                menu: 'EVENT_FIELD'\r\n              }\r\n            }\r\n          },\r\n          {\r\n            opcode: 'broadcast',\r\n            blockType: Scratch.BlockType.REPORTER,\r\n            text: 'broadcast [EVENT]',\r\n            arguments: {\r\n              EVENT: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                menu: 'EVENT_FIELD'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        menus: {\r\n          EVENT_FIELD: {\r\n            acceptReporters: false,\r\n            items: [\r\n              'Event 1',\r\n              'Event 2',\r\n              'Event 3'\r\n            ]\r\n          }\r\n        }\r\n      };\r\n    }\r\n    broadcast({EVENT, TARGET}, util) {\r\n      // highlight-start\r\n      const threads = util.startHats('broadcast5example_whenReceived', {\r\n        EVENT_OPTION: EVENT\r\n      });\r\n      return `Started ${threads.length} new threads!`;\r\n      // highlight-end\r\n    }\r\n  }\r\n  Scratch.extensions.register(new Broadcast5());\r\n}(Scratch));\r\n"},684:(e,n,r)=>{r.r(n),r.d(n,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This example must run unsandboxed');\r\n  }\r\n\r\n  class WhenKeyPressed {\r\n    getInfo() {\r\n      return {\r\n        id: 'restartexampleunsandboxed',\r\n        name: 'Restart Threads Example',\r\n        blocks: [\r\n          {\r\n            blockType: Scratch.BlockType.EVENT,\r\n            opcode: 'whenPressed',\r\n            text: 'when [KEY] key pressed',\r\n            isEdgeActivated: false,\r\n            // highlight-next-line\r\n            shouldRestartExistingThreads: true,\r\n            arguments: {\r\n              KEY: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                menu: 'key'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        menus: {\r\n          key: {\r\n            acceptReporters: false,\r\n            items: [\r\n              {\r\n                text: 'space',\r\n                value: ' '\r\n              },\r\n              'a',\r\n              'b',\r\n              'c',\r\n              // ...\r\n            ]\r\n          }\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  document.addEventListener('keydown', (e) => {\r\n    Scratch.vm.runtime.startHats('restartexampleunsandboxed_whenPressed', {\r\n      KEY: e.key\r\n    });\r\n  });\r\n\r\n  Scratch.extensions.register(new WhenKeyPressed());\r\n})(Scratch);\r\n"},942:(e,n,r)=>{r.r(n),r.d(n,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This example must run unsandboxed');\r\n  }\r\n\r\n  class WhenKeyPressedInStage {\r\n    getInfo() {\r\n      return {\r\n        id: 'eventexample3unsandboxed',\r\n        name: 'Event Block Example 3',\r\n        blocks: [\r\n          {\r\n            blockType: Scratch.BlockType.EVENT,\r\n            opcode: 'whenPressed',\r\n            text: 'when [KEY] key pressed',\r\n            isEdgeActivated: false,\r\n            arguments: {\r\n              KEY: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                menu: 'key'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        menus: {\r\n          key: {\r\n            acceptReporters: false,\r\n            items: [\r\n              {\r\n                text: 'space',\r\n                value: ' '\r\n              },\r\n              'a',\r\n              'b',\r\n              'c',\r\n              // ...\r\n            ]\r\n          }\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  document.addEventListener('keydown', (e) => {\r\n    Scratch.vm.runtime.startHats('eventexample3unsandboxed_whenPressed', {\r\n      KEY: e.key\r\n      // highlight-next-line\r\n    }, Scratch.vm.runtime.getTargetForStage());\r\n  });\r\n\r\n  Scratch.extensions.register(new WhenKeyPressedInStage());\r\n})(Scratch);\r\n"},5786:(e,n,r)=>{r.r(n),r.d(n,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This example must run unsandboxed');\r\n  }\r\n\r\n  class WhenKeyPressed {\r\n    getInfo() {\r\n      return {\r\n        id: 'eventexample2unsandboxed',\r\n        name: 'Event Block Example 2',\r\n        blocks: [\r\n          {\r\n            blockType: Scratch.BlockType.EVENT,\r\n            opcode: 'whenPressed',\r\n            text: 'when [KEY] key pressed',\r\n            isEdgeActivated: false, // required boilerplate\r\n            // highlight-start\r\n            arguments: {\r\n              KEY: {\r\n                type: Scratch.ArgumentType.STRING,\r\n                menu: 'key'\r\n              }\r\n            }\r\n            // highlight-end\r\n          }\r\n        ],\r\n        menus: {\r\n          key: {\r\n            acceptReporters: false,\r\n            items: [\r\n              {\r\n                // startHats filters by *value*, not by text\r\n                text: 'space',\r\n                value: ' '\r\n              },\r\n              'a',\r\n              'b',\r\n              'c',\r\n              // ...\r\n            ]\r\n          }\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  document.addEventListener('keydown', (e) => {\r\n    // highlight-start\r\n    Scratch.vm.runtime.startHats('eventexample2unsandboxed_whenPressed', {\r\n      KEY: e.key\r\n    });\r\n    // highlight-end\r\n  });\r\n\r\n  Scratch.extensions.register(new WhenKeyPressed());\r\n})(Scratch);\r\n"},2621:(e,n,r)=>{r.r(n),r.d(n,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This example must run unsandboxed');\r\n  }\r\n\r\n  class WhenSpaceKeyPressed {\r\n    getInfo() {\r\n      return {\r\n        id: 'eventexampleunsandboxed',\r\n        name: 'Event Block Example',\r\n        blocks: [\r\n          // highlight-start\r\n          {\r\n            blockType: Scratch.BlockType.EVENT,\r\n            opcode: 'whenSpacePressed',\r\n            text: 'when space key pressed',\r\n            isEdgeActivated: false // required boilerplate\r\n          }\r\n          // highlight-end\r\n        ]\r\n      };\r\n    }\r\n    // Notice: whenSpacePressed does not have a function defined!\r\n  }\r\n\r\n  // highlight-start\r\n  document.addEventListener('keydown', (e) => {\r\n    if (e.key === ' ') {\r\n      Scratch.vm.runtime.startHats('eventexampleunsandboxed_whenSpacePressed');\r\n    }\r\n  });\r\n  // highlight-end\r\n\r\n  Scratch.extensions.register(new WhenSpaceKeyPressed());\r\n})(Scratch);\r\n"},9273:(e,n,r)=>{r.r(n),r.d(n,{default:()=>t});const t="(function(Scratch) {\r\n  'use strict';\r\n\r\n  if (!Scratch.extensions.unsandboxed) {\r\n    throw new Error('This example must run unsandboxed');\r\n  }\r\n\r\n  class When {\r\n    getInfo() {\r\n      return {\r\n        id: 'whenunsandboxed',\r\n        name: 'When',\r\n        blocks: [\r\n          {\r\n            // highlight-start\r\n            blockType: Scratch.BlockType.HAT,\r\n            opcode: 'when',\r\n            text: 'when [CONDITION]',\r\n            isEdgeActivated: false, // required boilerplate\r\n            arguments: {\r\n              CONDITION: {\r\n                type: Scratch.BlockType.BOOLEAN\r\n              }\r\n            }\r\n            // highlight-end\r\n          }\r\n        ]\r\n      };\r\n    }\r\n    // highlight-start\r\n    when(args) {\r\n      return Scratch.Cast.toBoolean(args.CONDITION);\r\n    }\r\n    // highlight-end\r\n  }\r\n\r\n  // highlight-start\r\n  Scratch.vm.runtime.on('BEFORE_EXECUTE', () => {\r\n    // startHats is the same as before!\r\n    Scratch.vm.runtime.startHats('whenunsandboxed_when');\r\n  });\r\n  // highlight-end\r\n\r\n  Scratch.extensions.register(new When());\r\n})(Scratch);\r\n"},3742:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/forever-if-something-then-e1c84831edf86134186a58f91f2517f4.svg"},7839:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/forever-wait-until-something-true-then-not-true-0d4fa8c6dfc5315f5a3f5316edc9260e.svg"},5960:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/forever-wait-until-something-true-f3eb714c100b6ea9c059db50f8879ce4.svg"},6590:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/wait-until-something-true-db03785b4bf2fadf7188b8da3ba5bb7d.svg"},6676:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/when-something-is-true-c0c4f323c4f9fef2f9a0503012d692f9.svg"},3165:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/when-space-key-pressed-ce7c4470fd88589a73b7e0f7147edf2b.svg"},3913:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/when-space-pressed-wait-then-say-c6bb3dc15d85abfa750154490ee50ede.svg"},4013:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/when-timer-differences-6789504fa714f12b6fbd1f19c661cb04.svg"},6409:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/when-timer-gt-say-29b3f360911db7d29b2f84c109195261.svg"},3275:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/when-touching-mouse-change-by-1-a6bf31b88bb23a8ca45dd1914b521d77.svg"}}]);